/*
* @file name: Readme
* @author: AE Team
*/

V1.0.0/2023-10-18
1.首次发布

******************************例程详细描述*****************************
功能描述:
此示例旨在展示如何使用USART在两块HK32F0xxA板之间通信时验证CRC校验和。

-硬件说明

要使用此示例，您需要将其加载到两个HK32F0x板上
（我们称它们为Board A和Board B）然后通过UART连接这两个板
线路和GND。
在固件示例中，是否取消注释main.h文件中的MODE_TRANSMITTER宏定义
决定了当前程序为发送板设备程序还接收板设备程序。
-引脚之间的连接应使用公共接地。
*------------------------------------------------------------------------------*
|                BOARD A                                BOARD B                |
|         ____________________                   ____________________          |
|        |                    |                 |                    |         |
|        |     TRANSMITTER    |                 |      RECEIVER       |         |
|        |     __________     |                 |     __________     |         |
|        |    |   USART  | ____ | TX_____________RX | ____ |   USART  |    |         |
|        |    |  Device1 | ____ | RX_____________TX | ____ |  Device2 |    |         |
|        |    | __________ |    |                 |    | __________ |    |         |
|        |                    |                 |                    |         |
|        |  O LD1             |                 |  O LD1             |         |
|        |  O LD2    Joystick |                 |  O LD2    Joystick |         |
|        |  O LD3        _    |                 |  O LD3        _    |         |
|        |              | _ |   |                 |              | _ |   |         |
|        |                    |                 |                    |         |
|        |             GND O-- | ---------------- - | --O GND             |         |
|        | ____________________ |                 | ____________________ |         |
|                                                                              |
|                                                                              |
*------------------------------------------------------------------------------*
-软件说明

CRC外设固定使用CRC32
其中初始化值被设置为0。

在板A上：

在验证板上按下SEL按钮：
-USART板A发送已在CRC32Buffer中定义的数据及其CRC32校验值
-填入TxBuffer中发送。

在板B上：

-USART板B接收RxBuffer中的数据（数据 +CRC值）。
-在板B中计算接收到的数据的CRC值，并将其与接收到的CRC值进行比较。
CRC校验和结果通过LED点亮发出信号，如下所示：
-CRC接收值和计算值相等 == > LD2切换，LED3关闭。
-CRC接收值和计算值不相等 == = ＞LD2关闭，LED3打开。
并伴随结果相应的串口1调试信息输出，在PC端串口助手查看

SysTick被配置为每10ms产生一次中断。专用计数器
SysTick ISR内部用于每100ms切换LD1，指示
固件正在运行。这些操作可以无限重复。

时钟配置:
本例程采用HSI56MHz作为系统时钟，用户如果需要更改系统时钟配置，
需要配置修改SYSCLK_SOURCE宏定义的。
关于系统时钟如何配置，请参考对应用户手册或者RCC库函数及RCC相关例程。

适用芯片:
HK32F04AxxA系列

涉及外设:
CRC

USART1
USART1配置如下:
―波特率 = 115200
―字长 = USART_WordLength_8b
―停止位 = USART_StopBits_1
―奇偶校验 = USART_Parity_No
―硬件流控制被禁用(RTS和CTS信号)
―使能接收和发送

涉及管脚:
USART1 TX - PA9
USART1 RX - PA10

注意事项:
1. 推荐使用MDK5.00及其以上版本编译本工程（MDK - ARM）
或者IAR8.22及其以上版本编译本工程(EWARM);
2. 使用之前检测电源VCC、GND等是否正常。
如何使用:
1. 直接编译程序下载到评估板A，重启评估版;
2. 取消MODE_TRANSMITTER宏定义，再次编译下载到另一块评估板B，重启
***********************************************************************
