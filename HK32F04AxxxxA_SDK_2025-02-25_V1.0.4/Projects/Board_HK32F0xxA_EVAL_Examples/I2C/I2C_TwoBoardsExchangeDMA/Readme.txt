/*
* @file name: Readme
* @author: AE Team
*/

V1.0.0/2023-10-31
1.首次发布

******************************例程详细描述*****************************
功能描述:
此示例显示I2C如何在两个不同的板之间进行通信并在内部通过DMA收发数据。
（我们称它们为Board A和Board B）然后通过I2C连接这两块板
通过是否定义在main.h中的I2C_MASTER宏定义来决定是主机程序还是从机程序

硬件连接：
*------------------------------------------------------------------------------*
|                BOARD A                                BOARD B                |
|         ____________________                   ____________________          |
|        |                    |                 |                    |         |
|        |                    |                 |                    |         |
|        |     __________     |                 |     __________     |         |
|        |    | I2C Device | ____ | _______SCL_______ | ____ | I2C Device |    |         |
|        |    | __________ | ____ | _______SDA_______ | ____ | __________ |    |         |
|        |                    |                 |                    |         |
|        |                    |                 |                    |         |
|        |  Tamper      SEL   |                 |  Tamper      SEL   |         |
|        |   _           _    |                 |   _           _    |         |
|        |  | _ |         | _ |   |                 |  | _ |         | _ |   |         |
|        |                    |                 |                    |         |
|        |             GND O-- | ---------------- - | --O GND             |         |
|        | ____________________ |                 | ____________________ |         |
|                                                                              |
|                                                                              |
*------------------------------------------------------------------------------*
注意：若是通讯线直连根据速率最好在SCL与SDA两线上接一个上拉电阻，本例程默认接10K；

两板内部的I2C收发的数据皆通过DMA来进行传输。
通过按下主机端的SEL按键来向从机板发送数据，从机I2C收到数据并通过DMA接收完成后，
从机程序验证数据是否正确，并将该数据通过DMA送到I2C发送数据寄存器，等待SCL信号，
该数据会返回到主机板。
主机收到数据后验证该数据，验证数据正确时，对应板的LED1与LED2会点亮
通讯流程中的调试信息将通过串口1打印，可在PC端串口助手查看。

时钟配置:
本例程采用HSI56MHz作为系统时钟，用户如果需要更改系统时钟配置，
需要配置修改SYSCLK_SOURCE宏定义的。
关于系统时钟如何配置，请参考对应用户手册或者RCC库函数及RCC相关例程。

适用芯片:
HK32F04AxxA

涉及外设:
I2C

USART1:
- BaudRate = 115200
- Word Length = 8 Bits
- One Stop Bit
- No parity
- Hardware flow control disabled (RTS and CTS signals)
- Receive and transmit enabled

涉及管脚:
USART1 TX - PA9
USART1 RX - PA10

I2C SCL - PB6
I2C SDA - PB7

BUTTON_SEL - PA0

LED1 - PC10
LED2 - PC11

注意事项:
1. 推荐使用MDK5.00及其以上版本编译本工程（MDK - ARM）
或者IAR8.22及其以上版本编译本工程(EWARM);
2. 使用之前检测电源VCC、GND等是否正常。
如何使用:
1. 在main.h中宏定义I2C_MASTER后直接编译程序下载到评估板A，重启评估板;
2. 取消宏定义I2C_MASTER后编译程序下载到评估板B，重启评估板;
***********************************************************************
